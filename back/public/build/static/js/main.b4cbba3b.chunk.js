(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],[,,,,function(e,t,a){e.exports={Signup:"Signup_Signup__14KTg",Signup__Container:"Signup_Signup__Container__3QRVa",Signup__CrossSword:"Signup_Signup__CrossSword__2uL_V",Signup__Field:"Signup_Signup__Field__3uHIj",Signup__Btn:"Signup_Signup__Btn__275kl",Signup__Btn__Scroll:"Signup_Signup__Btn__Scroll__3IrN3",Signup__HasError:"Signup_Signup__HasError__36OKJ"}},,,function(e,t,a){e.exports={UserAccount:"UserAccount_UserAccount__2sBkq",UserAccount__DeleteBtn:"UserAccount_UserAccount__DeleteBtn__3ALq6",UserAccount__Description:"UserAccount_UserAccount__Description__1Xoc_",UserAccount__Description_Text:"UserAccount_UserAccount__Description_Text__1NF-x",UserAccount__Description__Bloc:"UserAccount_UserAccount__Description__Bloc__24XaK",UserAccount__Description_Btn:"UserAccount_UserAccount__Description_Btn__nbRJu",UserAccount__Description_Btn__Feather:"UserAccount_UserAccount__Description_Btn__Feather__27ioc",UserAccount__Description_Editing:"UserAccount_UserAccount__Description_Editing__2w6H7",UserAccount__Description_Editing_Form:"UserAccount_UserAccount__Description_Editing_Form__1t1aW",UserAccount__Description_Editing_Btn:"UserAccount_UserAccount__Description_Editing_Btn__YbSRQ",UserAccount__Avatar:"UserAccount_UserAccount__Avatar__2jykK",Username_Container:"UserAccount_Username_Container__3ZaGY",Username:"UserAccount_Username__2lT-v",ContactList:"UserAccount_ContactList__1sXZ-",ContactList__Bloc:"UserAccount_ContactList__Bloc__2j2Io",ContactList_Title:"UserAccount_ContactList_Title__1d815",ContactList_Title_Logo:"UserAccount_ContactList_Title_Logo__1sA6L",TitleContainer:"UserAccount_TitleContainer__Vwfjo",TitleContainer__Title:"UserAccount_TitleContainer__Title__3Ijnl"}},function(e,t,a){e.exports={Container:"Post_Container__1f8Qd",fadeIn:"Post_fadeIn__1PXso",AbsoluteAuthor:"Post_AbsoluteAuthor__3y8mx",Post:"Post_Post__WCzbp",Gutter:"Post_Gutter__3Gcf2",AbsoluteAddContact:"Post_AbsoluteAddContact__6lM_9",bounceOutContact:"Post_bounceOutContact__1MhWQ",AddButton:"Post_AddButton__3ECi2",AuthorAvatar:"Post_AuthorAvatar__wUboE",AuthorAvatar__PendingRequest:"Post_AuthorAvatar__PendingRequest__2VKCr",AuthorAvatar__AlreadyContacts:"Post_AuthorAvatar__AlreadyContacts__1CtT-",bounceOut:"Post_bounceOut__2A4eF",AuthorPost:"Post_AuthorPost__3jL1u",AuthorPost_gold:"Post_AuthorPost_gold__32Y6m",ContentPost:"Post_ContentPost__1bNs-",DateContainer:"Post_DateContainer__1ebL3",DateContainer__Heart:"Post_DateContainer__Heart__3Cg5L",DateContainer__CheckedHeart:"Post_DateContainer__CheckedHeart__99YBK",PostFooter_start:"Post_PostFooter_start__1LrJQ",PostFooter_between:"Post_PostFooter_between__in79B","fa-trash":"Post_fa-trash__1zGSr",DeleteButton:"Post_DeleteButton__2TqRo"}},function(e,t,a){e.exports={PostForm:"PostForm_PostForm__i9IOo",PostForm__Open:"PostForm_PostForm__Open__2lv8H",PostForm__NumberRequests:"PostForm_PostForm__NumberRequests__28NaT",PostForm__Main:"PostForm_PostForm__Main__2oT1F",PostForm__TavernInvitation:"PostForm_PostForm__TavernInvitation__3BI8V",PostForm__TavernInvitation__None:"PostForm_PostForm__TavernInvitation__None__YG-yW",PostForm__TavernInvitation__Container:"PostForm_PostForm__TavernInvitation__Container__1eOmT",PostForm__Invitation:"PostForm_PostForm__Invitation__2mNp2",PostForm__Footer:"PostForm_PostForm__Footer__1PWNn",Drawer:"PostForm_Drawer__3JQxe",SelfAvatar:"PostForm_SelfAvatar__m7lGr",SelfAvatarInput:"PostForm_SelfAvatarInput__1hc1a",Smiley:"PostForm_Smiley__w38oZ",Triangle:"PostForm_Triangle__3JW0k",Triangle__Down:"PostForm_Triangle__Down__2kySC",Form:"PostForm_Form__JsmgA",Input:"PostForm_Input__1zSKk",SendButton:"PostForm_SendButton__1N0-Z",SendButton__Fire:"PostForm_SendButton__Fire__E7fLD",Gutter:"PostForm_Gutter__2xGz8"}},,function(e,t,a){e.exports={Signin:"Signin_Signin__10I9D",Signin__Signup:"Signin_Signin__Signup__2wkiT",Signin__Container:"Signin_Signin__Container__2VDCU",Signin__CrossSword:"Signin_Signin__CrossSword__tgnym",Signin__Field:"Signin_Signin__Field__39ivt",Signin__Btn:"Signin_Signin__Btn__3y7tY",Signin__Btn__Shield:"Signin_Signin__Btn__Shield__6m2hf",Signin__Btn__Container:"Signin_Signin__Btn__Container__3n4_t",Signin__Error:"Signin_Signin__Error__2bect",Password:"Signin_Password__hKh2S",Password__Forgotten:"Signin_Password__Forgotten__2xHes",Presentation:"Signin_Presentation__aniso"}},function(e,t,a){e.exports={Invitation:"Invitation_Invitation__1KuFm",Invitation__Container:"Invitation_Invitation__Container__3QbPb",Invitation__Tavern:"Invitation_Invitation__Tavern__1YC6L",Invitation__Tavern__Avatar:"Invitation_Invitation__Tavern__Avatar__1T6v-",Invitation__Tavern__Container:"Invitation_Invitation__Tavern__Container__2XXpM",Invitation__Tavern__Time:"Invitation_Invitation__Tavern__Time__2wS-o",Invitation__Tavern__Message__Container:"Invitation_Invitation__Tavern__Message__Container__P9b_L",Invitation__Tavern__Username:"Invitation_Invitation__Tavern__Username__1nX_p",Invitation__Tavern__Buttons__Container:"Invitation_Invitation__Tavern__Buttons__Container__3MBq2",Invitation__Tavern__Button__Add:"Invitation_Invitation__Tavern__Button__Add__1pS58",Invitation__Tavern__Button__Decline:"Invitation_Invitation__Tavern__Button__Decline__3PNpQ",Asking:"Invitation_Asking__3lb7w",Request:"Invitation_Request__23Uds",Name:"Invitation_Name__3he-f",Message:"Invitation_Message__jA9UM",Avatar:"Invitation_Avatar__2aQyg",Buttons:"Invitation_Buttons__3YzO5",Add:"Invitation_Add__3APFp",Decline:"Invitation_Decline__5A0Kr",Test:"Invitation_Test__33pHr"}},,function(e,t,a){e.exports={Chat:"Chat_Chat__lpdql",Chat__Messages:"Chat_Chat__Messages__3D0_3",Chat__Messages__DiceRoll:"Chat_Chat__Messages__DiceRoll__dj-iY",Chat__Messages__Message:"Chat_Chat__Messages__Message__1GHPw",Chat__Messages__Message__Gamemaster:"Chat_Chat__Messages__Message__Gamemaster__oF7j3",Chat__Messages__Message__Gamemaster__Self:"Chat_Chat__Messages__Message__Gamemaster__Self__3hUHv",Chat__Messages__Message__Self:"Chat_Chat__Messages__Message__Self__2ybjE",Chat__Messages__Message__Player:"Chat_Chat__Messages__Message__Player__jnQGm",Chat__Messages__Message__Content:"Chat_Chat__Messages__Message__Content__2567A",Chat__Message__Form:"Chat_Chat__Message__Form__3_75Q",Chat__Message__Form__Btn:"Chat_Chat__Message__Form__Btn__3urKr",Chat__Message__Input:"Chat_Chat__Message__Input__1JhCS"}},,,,function(e,t,a){e.exports={Presentation:"Presentation_Presentation__2KkE8",Signature:"Presentation_Signature__4sx_1",Desktop:"Presentation_Desktop__3D6g1",Desktop__Title:"Presentation_Desktop__Title__1kLpS",Desktop__SubTitle:"Presentation_Desktop__SubTitle__3TcHC",Desktop__AmbientText:"Presentation_Desktop__AmbientText__UVGa4",Desktop__PresentationText:"Presentation_Desktop__PresentationText__3SjqZ",Desktop__TavernierText:"Presentation_Desktop__TavernierText__3GYae",Mobile:"Presentation_Mobile__1BOhv",CrossSword:"Presentation_CrossSword__2bXRM",CrossSwordDesktop:"Presentation_CrossSwordDesktop__14LJS"}},,,,function(e,t,a){e.exports={AddPlayerContainer:"ContactList_AddPlayerContainer__THrvv",AddPlayerContainer__Image:"ContactList_AddPlayerContainer__Image__1eVDU",ContactList__List__Item:"ContactList_ContactList__List__Item__3WmnJ",ContactList__List__Item__Btn:"ContactList_ContactList__List__Item__Btn__1RJee",ContactList__List__Item__Btn__Invited:"ContactList_ContactList__List__Item__Btn__Invited__1FJE4",ContactList__List__Item__Avatar:"ContactList_ContactList__List__Item__Avatar__SdoiL",ContactList__List__Item__Content:"ContactList_ContactList__List__Item__Content__9KyxN",AddPlayer:"ContactList_AddPlayer__2yf9w"}},function(e,t,a){e.exports={Nav:"Nav_Nav__2rbxA",Nav__Header:"Nav_Nav__Header__2yVeX",Nav__Header__Welcome:"Nav_Nav__Header__Welcome__3WsTe",Nav__Header__Welcome__Title:"Nav_Nav__Header__Welcome__Title__2zXvv",Nav__Header__Welcome__User:"Nav_Nav__Header__Welcome__User__U_Qeo",Nav__Logo:"Nav_Nav__Logo__23tE0",Nav__Menu:"Nav_Nav__Menu__ltQax",Nav__Menu__Open:"Nav_Nav__Menu__Open__3gais",Nav__Menu__Container:"Nav_Nav__Menu__Container__3L1Az"}},,,function(e,t,a){e.exports={Auth:"Layout_Auth__3kF7e",Auth__Logo:"Layout_Auth__Logo__28TZ6",Auth__Main:"Layout_Auth__Main__13wNf",Auth__Footer:"Layout_Auth__Footer__BSSa9",Main:"Layout_Main__3C81A",Main__Main:"Layout_Main__Main__21iC3",Main__Footer:"Layout_Main__Footer__2r9WS",Footer:"Layout_Footer__1NUYI"}},function(e,t,a){e.exports={ScreenContainer:"ScreenShare_ScreenContainer__1zYzm",ScreenContainer__Logo:"ScreenShare_ScreenContainer__Logo__3jsns",ScreenContainer__Icons:"ScreenShare_ScreenContainer__Icons__JYttf",ScreenContainer__Icons__D20:"ScreenShare_ScreenContainer__Icons__D20__1R21b",ScreenContainer__Icons__AddPlayer:"ScreenShare_ScreenContainer__Icons__AddPlayer__3D16g",AddPlayerContainer:"ScreenShare_AddPlayerContainer__2lP22",AddPlayerContainer__Image:"ScreenShare_AddPlayerContainer__Image__GhzHE",ContactList__List__Item:"ScreenShare_ContactList__List__Item__3OdR4",ContactList__List__Item__Btn:"ScreenShare_ContactList__List__Item__Btn__j8nSc",ContactList__List__Item__Avatar:"ScreenShare_ContactList__List__Item__Avatar__2JW5T",ContactList__List__Item__Content:"ScreenShare_ContactList__List__Item__Content__xAMjU"}},function(e,t,a){e.exports={ConnectedContactsList:"ConnectedContactsList_ConnectedContactsList__nFSyq",ConnectedContactsList__List:"ConnectedContactsList_ConnectedContactsList__List__frE2B",ConnectedContactsList__List__Avatar:"ConnectedContactsList_ConnectedContactsList__List__Avatar__3BzxW"}},function(e,t,a){e.exports={Modal:"AvatarsList_Modal__2AMw1",Modal__Closebtn:"AvatarsList_Modal__Closebtn__2Zlh9",AvatarLists:"AvatarsList_AvatarLists__17QNv",AvatarLists__Container:"AvatarsList_AvatarLists__Container__1RwUC",AvatarLists__Valider:"AvatarsList_AvatarLists__Valider__2C1EO",Header:"AvatarsList_Header__382kB"}},,,function(e,t,a){e.exports=a.p+"static/media/logo1.dc9a0cbd.svg"},function(e,t,a){e.exports=a.p+"static/media/boutoncroix.9d1620e5.svg"},function(e,t,a){e.exports=a.p+"static/media/Avatardefault.6c6c318f.png"},,function(e,t,a){e.exports={NavLinks:"NavLinks_NavLinks__3rq19",NavLinks__Open:"NavLinks_NavLinks__Open__3WC-s",NavLinks__Deconnexion:"NavLinks_NavLinks__Deconnexion__3G_cI",NavLinks__Deconnexion__Title:"NavLinks_NavLinks__Deconnexion__Title__3T7jB"}},function(e,t,a){e.exports={Contact:"Contact_Contact__2W7cr",Contact_Title:"Contact_Contact_Title__2jalU",Contact_Content:"Contact_Contact_Content__1Ph5I",Contact_Content_Container:"Contact_Contact_Content_Container__2kCvz",Contact_Image:"Contact_Contact_Image__3Ep4Z",Contact_Btn:"Contact_Contact_Btn__2nu_w"}},,,function(e,t,a){e.exports={DiceRoller:"DiceRoller_DiceRoller__1t-4o",DiceRoller__Multiplier:"DiceRoller_DiceRoller__Multiplier__1Ds-s",DiceRoller__Dice__Container:"DiceRoller_DiceRoller__Dice__Container__qJpay",DiceRoller__Result__Container:"DiceRoller_DiceRoller__Result__Container__1tgbp"}},function(e,t,a){e.exports={Tavern:"Tavern_Tavern__vVljO",Tavern__Avatar:"Tavern_Tavern__Avatar__1r0-w",Tavern__Chat__Container:"Tavern_Tavern__Chat__Container__3s6v1",ContactListMoreSelf:"Tavern_ContactListMoreSelf__rRxK4"}},,,function(e,t,a){e.exports=a.p+"static/media/Avatardefault.ee2cdef1.png"},,function(e,t,a){e.exports=a.p+"static/media/d20.b54abe06.svg"},function(e,t,a){e.exports={Connexion:"Home_Connexion__3JxL_",Connexion__Container:"Home_Connexion__Container__2LsKY",Arrow:"Home_Arrow__3aN8R"}},function(e,t,a){e.exports={avatarCase:"AvatarItem_avatarCase__2tzX8",radio:"AvatarItem_radio__3aWpN",Highlighted:"AvatarItem_Highlighted__3uG2N"}},function(e,t,a){e.exports={Modal:"Modal_Modal__32mLz",Modal__goblin:"Modal_Modal__goblin__2TYTS",Buttons__Container:"Modal_Buttons__Container__19mAp"}},function(e,t,a){e.exports={Form:"Search_Form__2Bp4N",Button:"Search_Button__2Sz7u",Input:"Search_Input__1O3l9"}},function(e,t,a){e.exports={Thread:"Thread_Thread__akCix",Thread__Welcome:"Thread_Thread__Welcome__1UDow",Thread__PostsContainer:"Thread_Thread__PostsContainer__TZDFK"}},,,,,,,function(e,t,a){e.exports=a.p+"static/media/backgroundvideo.3dfe0724.mp4"},function(e,t,a){e.exports=a.p+"static/media/logocroix.5e81e88f.svg"},,,,function(e,t,a){e.exports={InvitationHeader:"InvitationHeader_InvitationHeader__2Q-nA",InvitationHeader__Number:"InvitationHeader_InvitationHeader__Number__24OQV"}},,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/turn-off.f540b25a.svg"},function(e,t,a){e.exports={Video:"Video_Video__Fkw-U"}},function(e,t,a){e.exports=a.p+"static/media/shield.daa42c3d.svg"},function(e,t,a){e.exports={ErrorMessage:"ErrorMessage_ErrorMessage__1mTid"}},,function(e,t,a){e.exports=a.p+"static/media/scroll.6d0f02c4.svg"},,function(e,t,a){e.exports={Dice:"Dice_Dice__iMTV4"}},function(e,t,a){e.exports=a.p+"static/media/d4.894ea704.svg"},function(e,t,a){e.exports=a.p+"static/media/d6.decfdae0.svg"},function(e,t,a){e.exports=a.p+"static/media/d8.a6119591.svg"},function(e,t,a){e.exports=a.p+"static/media/d10.815ee7ed.svg"},function(e,t,a){e.exports=a.p+"static/media/d12.7f1b8d40.svg"},function(e,t,a){e.exports=a.p+"static/media/d20.b54abe06.svg"},function(e,t,a){e.exports={Multiplier:"Multiplier_Multiplier__3xOXp"}},function(e,t,a){e.exports={Result:"Result_Result__WzjCg"}},function(e,t,a){e.exports=a.p+"static/media/door.96c14055.svg"},function(e,t,a){e.exports=a.p+"static/media/addplayer.73bf049a.svg"},function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__Avhg6"}},function(e,t,a){e.exports=a.p+"static/media/goblin.02951be8.gif"},function(e,t,a){e.exports={Title:"Title_Title__1VMbv"}},function(e,t,a){e.exports={TitleList:"Titles_TitleList__OPvET"}},function(e,t,a){e.exports=a.p+"static/media/dwarf_female_bg.ced6a075.png"},function(e,t,a){e.exports=a.p+"static/media/Dwarf_male_bg.cce72e4c.png"},function(e,t,a){e.exports=a.p+"static/media/elf_female_bg.7ab329a6.png"},function(e,t,a){e.exports=a.p+"static/media/elf_male_bg.ed645a34.png"},function(e,t,a){e.exports=a.p+"static/media/gnome_female_bg.086a6308.png"},function(e,t,a){e.exports=a.p+"static/media/gnome_male_bg.101d3e48.png"},function(e,t,a){e.exports=a.p+"static/media/halfelf_female_bg.27dd6986.png"},function(e,t,a){e.exports=a.p+"static/media/halfelf_male_bg.9675b78a.png"},function(e,t,a){e.exports=a.p+"static/media/human_female_bg.488a94ac.png"},function(e,t,a){e.exports=a.p+"static/media/human_male_bg.ae49f34d.png"},function(e,t,a){e.exports=a.p+"static/media/lizardmen_female_bg.27482540.png"},function(e,t,a){e.exports=a.p+"static/media/lizardmen_male_bg.cebd58c6.png"},function(e,t,a){e.exports=a.p+"static/media/orc_female_bg.7788de45.png"},function(e,t,a){e.exports=a.p+"static/media/orc_male_bg.a2b0799e.png"},function(e,t,a){e.exports=a.p+"static/media/ratmen_female_bg.15951062.png"},function(e,t,a){e.exports=a.p+"static/media/Ratmen_male_bg.13241e3c.png"},function(e,t,a){e.exports=a.p+"static/media/feather.daa89045.svg"},function(e,t,a){e.exports=a.p+"static/media/team.6857bbe4.svg"},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/skull.02fb4003.svg"},function(e,t,a){e.exports=a.p+"static/media/fire.cb62af30.svg"},function(e,t,a){e.exports=a.p+"static/media/404.c4b5987e.png"},function(e,t,a){e.exports={NotFound:"NotFound_NotFound__2aMLo"}},,,function(e,t,a){e.exports=a(154)},,,,,,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,function(e,t,a){},,,,,function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),c=a(42),o=a.n(c),i=a(13),_=a(3),u=(a(130),a(24)),l=a(20),d=a(25),m=a(1),p=function(e){return{type:"ADD_CHAT_MESSAGE",message:e}},v=function(e,t,a){return{type:"DELETE_TAVERN",tavernId:e,gamemaster:t,participant:a}},g=function(e){return{type:"CONNECT",response:e}},E=function(e){return{type:"SAVE_POSTS",posts:e}},f=function(e){return{type:"DELETE_CONTACT",contactId:e}},C=function(e){return{type:"RESET_FIELDS",reducer:e}},h=function(e,t,a){return{type:"SET_ERROR",errorMessage:e,errorType:t,data:a}},b={connectedContacts:[],messages:[],message:"",isInitiator:!1},N="http://localhost:8080/api/v1",T=["Apprenti aventurier","Aventurier","Pr\xeatre de Haidge","Troubadour","Aventuri\xe8re incroyable","Demon du jeu","Buveur de boisson","Ma\xeetre du Monde","Mage Noir","Filou des d\xe9s","Mendiant de passage","Pr\u1ebfcheur de gameplay","Vigile du roleplay","Maitre trap\xe9ziste","En a gros sur la patate","Coinc\xe9 dans un donjon"].sort(),A=function(){var e=(new Date).getFullYear(),t=(new Date).getMonth(),a=(new Date).getDay();return{year:e,month:t=t<10?t="0"+t:t,day:a=a<10?a="0"+a:a}},I=A().year,S={email:"",username:"",password:"",confirmPassword:"",birthdate:"".concat(I-16,"-01-01")},O=a(44),L=a.n(O),D={loggedUser:{},defaultTitles:T,hasTriedToAuthenticate:!1,avatar:L.a,isEditing:!1,description:""},P={list:[],post:""},j=a(155),x={isResolve:!1,isInitialLoading:!1,isLoading:!1,hasError:{},errorMessage:"",tavernId:Object(j.a)()},y=Object(u.c)({global:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_INITIAL_LOADING":return Object(m.a)({},e,{isInitialLoading:!e.isInitialLoading});case"SET_LOADING":return Object(m.a)({},e,{isLoading:!e.isLoading});case"SET_ERROR":switch(t.errorType){case"all fields":return Object(m.a)({},e,{errorMessage:t.errorMessage,hasError:Object(m.a)({},e.hasError,{},t.data),isLoading:!1});case"email":return Object(m.a)({},e,{errorMessage:t.errorMessage,hasError:Object(m.a)({},e.hasError,{email:!0}),isLoading:!1});case"username too long":return Object(m.a)({},e,{errorMessage:t.errorMessage,hasError:Object(m.a)({},e.hasError,{username:!0}),isLoading:!1});case"password not matching":case"invalid password":return Object(m.a)({},e,{errorMessage:t.errorMessage,hasError:Object(m.a)({},e.hasError,{password:!0,confirmPassword:!0}),isLoading:!1});default:return Object(m.a)({},e,{errorMessage:t.errorMessage,hasError:!0,isLoading:!1})}case"UNSET_ERROR":return Object(m.a)({},e,{hasError:!1,errorMessage:""});case"ISRESOLVE":return Object(m.a)({},e,{isResolve:!e.isResolve});case"SET_TAVERN_ID":return Object(m.a)({},e,{tavernId:Object(j.a)()});default:return e}},tavern:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"OPEN_TAVERN":return Object(m.a)({},e,{isInitiator:t.isInitiator||!1});case"INVITE_CONTACT":var a=e.connectedContacts.find((function(e){return+e.id===+t.gamemaster.id})),n=a.contacts.findIndex((function(e){return+e.id===t.participant.id}));return a.contacts.splice(n,1,t.participant),Object(m.a)({},e,{connectedContacts:e.connectedContacts.filter((function(e){return+e.id!==+t.gamemaster.id})).concat(a)});case"DELETE_TAVERN_INVITE":var r=e.connectedContacts.find((function(e){return+e.id===+t.gamemaster.id}));if(!r)return e;var s=r.contacts.findIndex((function(e){return+e.id===t.participant.id}));return r.contacts[s].tavernRequests=r.contacts[s].tavernRequests.filter((function(e){return e.tavern_id!==t.tavernId})),Object(m.a)({},e,{connectedContacts:e.connectedContacts.filter((function(e){return+e.id!==+t.gamemaster.id})).concat(r)});case"CLEAR_CONNECTED_CONTACTS_LIST":return Object(m.a)({},e,{connectedContacts:[]});case"TAVERN_CONTACT_CONNECT":return Object(m.a)({},e,{connectedContacts:[].concat(Object(d.a)(e.connectedContacts),[t.user])});case"TAVERN_CONTACT_DISCONNECT":return Object(m.a)({},e,{connectedContacts:e.connectedContacts.filter((function(e){return e.connectionUserId!==t.userId}))});case"INPUT_CHANGE":return"tavern"===t.reducerName?Object(m.a)({},e,Object(l.a)({},t.name,t.value)):e;case"ADD_CHAT_MESSAGE":return Object(m.a)({},e,{messages:e.messages.concat(t.message)});case"RESET_FIELDS":return"tavern"===t.reducer?Object(m.a)({},e,{message:""}):e;case"RESET_CHAT":return Object(m.a)({},e,{messages:[]});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"INPUT_CHANGE":return"auth"===t.reducerName?Object(m.a)({},e,Object(l.a)({},t.name,t.value)):e;case"RESET_FIELDS":return"auth"===t.reducer?Object(m.a)({},e,{email:"",username:"",password:"",confirmPassword:"",birthdate:""}):e;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"CONNECT":return Object(m.a)({},e,{loggedUser:t.response.user,isLoggedIn:t.response.isLoggedIn,hasTriedToAuthenticate:!0});case"DISCONNECT":return Object(m.a)({},e,{loggedUser:t.response.user,isLoggedIn:t.response.isLoggedIn});case"SET_IS_EDITING":return Object(m.a)({},e,{isEditing:!e.isEditing,description:e.isEditing?e.description:e.loggedUser.description});case"INPUT_CHANGE":return"user"===t.reducerName?Object(m.a)({},e,Object(l.a)({},t.name,t.value)):e;case"EDIT_USER_ACCOUNT":case"SEND_CONTACT_REQUEST":return Object(m.a)({},e,{loggedUser:t.user});case"ADD_CONTACT_REQUEST":return+t.contact.id===e.loggedUser.id?Object(m.a)({},e,{loggedUser:t.contact}):e;case"ACCEPT_CONTACT":return Object(m.a)({},e,{loggedUser:t.user});case"ADD_CONTACT":return Object(m.a)({},e,{loggedUser:t.contact});case"DELETE_CONTACT":return Object(m.a)({},e,{loggedUser:t.user});case"REMOVE_CONTACT":return+t.contact.id===e.loggedUser.id?Object(m.a)({},e,{loggedUser:t.contact}):e;case"DELETE_ACOUNT":return Object(m.a)({},e,{loggedUser:{},isLoggedIn:!1});case"UPDATE_AVATAR":return Object(m.a)({},e,{avatar:t.avatar});case"UPDATE_IMAGE":return Object(m.a)({},e,{loggedUser:Object(m.a)({},e.loggedUser,{avatar:t.avatar})});case"UPDATE_TITLE":return Object(m.a)({},e,{loggedUser:Object(m.a)({},e.loggedUser,{title:t.title})});case"CONTACT_UPDATE":var a=e.loggedUser.pendingRequests.sent.map((function(e){var a=e;return e.id===t.contact.id&&(a=t.contact),a})),n=e.loggedUser.pendingRequests.received.map((function(e){var a=e;return e.id===t.contact.id&&(a=t.contact),a})),r=e.loggedUser.contacts.map((function(e){var a=e;return e.id===t.contact.id&&(a=t.contact),a})),s=e.loggedUser.tavernRequests.map((function(e){var a=e;return e.id===t.contact.id&&(a=t.contact),a}));return Object(m.a)({},e,{loggedUser:Object(m.a)({},e.loggedUser,{pendingRequests:Object(m.a)({},e.loggedUser.pendingRequests,{sent:a,received:n}),contacts:r,tavernRequests:s})});case"INVITE_CONTACT":return Object(m.a)({},e,{loggedUser:Object(m.a)({},e.loggedUser,{contacts:e.loggedUser.contacts.filter((function(e){return+e.id!==+t.participant.id})).concat(t.participant)})});case"TAVERN_INVITE":return t.participantId===e.loggedUser.id?Object(m.a)({},e,{loggedUser:Object(m.a)({},e.loggedUser,{tavernRequests:[].concat(Object(d.a)(e.loggedUser.tavernRequests),[{gamemaster:t.gamemaster,tavernId:t.tavernId,date:t.date}])})}):e;case"DELETE_TAVERN_INVITE":return e.loggedUser.id===t.participant.id?Object(m.a)({},e,{loggedUser:Object(m.a)({},e.loggedUser,{tavernRequests:e.loggedUser.tavernRequests.filter((function(e){return e.tavernId!==t.tavernId}))})}):e;case"OPEN_TAVERN":return Object(m.a)({},e,{loggedUser:Object(m.a)({},e.loggedUser,{isGamemaster:!0})});case"DELETE_TAVERN":var c;if(t.gamemaster.id===e.loggedUser.id){var o=(c=Object(d.a)(e.loggedUser.contacts)).findIndex((function(e){return+e.id===+t.participant.id}));c.splice(o,1,t.participant)}return Object(m.a)({},e,{loggedUser:Object(m.a)({},e.loggedUser,{isGamemaster:!1,contacts:c||Object(d.a)(e.loggedUser.contacts)})});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"INPUT_CHANGE":return"post"===t.reducerName?Object(m.a)({},e,Object(l.a)({},t.name,t.value)):e;case"REMOVE_POST":return Object(m.a)({},e,{list:e.list.filter((function(e){return e.id!==t.id}))});case"RESET_FIELDS":return"post"===t.reducer?Object(m.a)({},e,{post:""}):e;case"SAVE_POSTS":return Object(m.a)({},e,{list:t.posts});case"ADD_POST":return Object(m.a)({},e,{list:[].concat(Object(d.a)(e.list),[t.post])});default:return e}}}),R=a(15),M=a.n(R),k=a(21),U=a(10),w=a.n(U),F=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d)(Object(u.a)((function(e){return function(t){return function(){var a=Object(k.a)(M.a.mark((function a(n){var r,s,c,o,i,_,u,l,d,m,p;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=e.getState(),s=r.auth,a.t0=n.type,a.next="SIGNUP"===a.t0?4:"LOGIN"===a.t0?19:"IS_LOGGED_IN"===a.t0?41:"LOGOUT"===a.t0?61:77;break;case 4:return a.prev=4,c={email:s.email,avatar:L.a,password:s.password,confirmPassword:s.confirmPassword,username:s.username,birthdate:s.birthdate},a.next=8,w.a.post("".concat(N,"/auth/signup"),c);case 8:o=a.sent,delete o.data.password,e.dispatch({type:"ISRESOLVE"}),a.next=18;break;case 14:a.prev=14,a.t1=a.catch(4),console.log(a.t1),e.dispatch(h(a.t1.response.data.message));case 18:return a.abrupt("break",78);case 19:return a.prev=19,e.dispatch({type:"SET_LOADING"}),i={email:s.email,password:s.password},a.next=24,w.a.post("".concat(N,"/auth/login"),i,{withCredentials:!0});case 24:_=a.sent,delete(u=_.data).user.password,u.user.pendingRequests=u.pendingRequests,u.user.tavernRequests=u.tavernRequests,u.user.contacts=u.contacts,e.dispatch(g(u)),a.next=37;break;case 33:a.prev=33,a.t2=a.catch(19),console.log(a.t2),e.dispatch(h(a.t2.response.data.message));case 37:return a.prev=37,e.dispatch({type:"SET_LOADING"}),a.finish(37);case 40:return a.abrupt("break",78);case 41:return e.dispatch({type:"SET_INITIAL_LOADING"}),a.prev=42,a.next=45,w.a.post("".concat(N,"/auth/is-logged-in"),{},{withCredentials:!0});case 45:l=a.sent,delete(d=l.data).user.password,d.user.pendingRequests=d.pendingRequests,d.user.tavernRequests=d.tavernRequests,d.user.contacts=d.contacts,d.isLoggedIn&&e.dispatch(g(d)),a.next=57;break;case 54:a.prev=54,a.t3=a.catch(42),e.dispatch(g({user:null,isLoggedIn:!1}));case 57:return a.prev=57,e.dispatch({type:"SET_INITIAL_LOADING"}),a.finish(57);case 60:return a.abrupt("break",78);case 61:return a.prev=61,e.dispatch({type:"SET_LOADING"}),a.next=65,w.a.post("".concat(N,"/auth/logout"),{},{withCredentials:!0});case 65:m=a.sent,p=m.data,e.dispatch({type:"DISCONNECT",response:p}),a.next=73;break;case 70:a.prev=70,a.t4=a.catch(61),e.dispatch(h());case 73:return a.prev=73,e.dispatch({type:"SET_LOADING"}),a.finish(73);case 76:return a.abrupt("break",78);case 77:t(n);case 78:case"end":return a.stop()}}),a,null,[[4,14],[19,33,37,40],[42,54,57,60],[61,70,73,76]])})));return function(e){return a.apply(this,arguments)}}()}}),(function(e){return function(t){return function(){var a=Object(k.a)(M.a.mark((function a(n){var r,s,c,o,i,_;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=e.getState(),s=r.post,c=r.user,a.t0=n.type,a.next="DELETE_POST"===a.t0?4:"FETCH_POSTS"===a.t0?18:"POST"===a.t0?35:50;break;case 4:return a.prev=4,e.dispatch({type:"SET_LOADING"}),a.next=8,w.a.delete("".concat(N,"/post/").concat(n.id));case 8:a.next=14;break;case 10:a.prev=10,a.t1=a.catch(4),console.trace(a.t1),e.dispatch(h());case 14:return a.prev=14,e.dispatch({type:"SET_LOADING"}),a.finish(14);case 17:return a.abrupt("break",51);case 18:return a.prev=18,e.dispatch({type:"SET_LOADING"}),a.next=22,w.a.get("".concat(N,"/post"));case 22:o=a.sent,i=o.data,e.dispatch(E(i)),a.next=31;break;case 27:a.prev=27,a.t2=a.catch(18),console.trace(a.t2),e.dispatch(h());case 31:return a.prev=31,e.dispatch({type:"SET_LOADING"}),a.finish(31);case 34:return a.abrupt("break",51);case 35:return a.prev=35,e.dispatch({type:"SET_LOADING"}),_={content:s.post,user_id:c.loggedUser.id},a.next=40,w.a.post("".concat(N,"/post"),_);case 40:a.next=46;break;case 42:a.prev=42,a.t3=a.catch(35),console.trace(a.t3),e.dispatch(h());case 46:return a.prev=46,e.dispatch({type:"SET_LOADING"}),a.finish(46);case 49:return a.abrupt("break",51);case 50:t(n);case 51:case"end":return a.stop()}}),a,null,[[4,10,14,17],[18,27,31,34],[35,42,46,49]])})));return function(e){return a.apply(this,arguments)}}()}}),(function(e){return function(t){return function(){var a=Object(k.a)(M.a.mark((function a(n){var r,s,c,o,i,_,u,l,d,p,v,g,E,f,C,b,T,A,I,S;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=e.getState(),s=r.user,a.t0=n.type,a.next="SEND_CONTACT_REQUEST"===a.t0?4:"ACCEPT_CONTACT"===a.t0?27:"DELETE_CONTACT"===a.t0?50:"EDIT_USER_ACCOUNT"===a.t0?73:"DELETE_ACOUNT"===a.t0?94:"UPDATE_IMAGE"===a.t0?109:"UPDATE_TITLE"===a.t0?125:140;break;case 4:return a.prev=4,e.dispatch({type:"SET_LOADING"}),c=s.loggedUser.id,o=n.contactId,a.next=10,w.a.post("".concat(N,"/contact/").concat(c,"/add/").concat(o));case 10:i=a.sent,_=i.data,n.user=_.user,n.user.pendingRequests=_.pendingRequests,n.user.tavernRequests=_.tavernRequests,n.user.contacts=_.contacts,delete n.user.password,t(n),a.next=23;break;case 20:a.prev=20,a.t1=a.catch(4),e.dispatch(h());case 23:return a.prev=23,e.dispatch({type:"SET_LOADING"}),a.finish(23);case 26:return a.abrupt("break",141);case 27:return a.prev=27,e.dispatch({type:"SET_LOADING"}),u=+s.loggedUser.id,l=+n.contactId,a.next=33,w.a.patch("".concat(N,"/contact/").concat(u,"/accept/").concat(l));case 33:d=a.sent,p=d.data,n.user=p.user,n.user.pendingRequests=p.pendingRequests,n.user.tavernRequests=p.tavernRequests,n.user.contacts=p.contacts,delete n.user.password,t(n),a.next=46;break;case 43:a.prev=43,a.t2=a.catch(27),e.dispatch(h());case 46:return a.prev=46,e.dispatch({type:"SET_LOADING"}),a.finish(46);case 49:return a.abrupt("break",141);case 50:return a.prev=50,e.dispatch({type:"SET_LOADING"}),v=s.loggedUser.id,g=n.contactId,a.next=56,w.a.delete("".concat(N,"/contact/").concat(v,"/delete/").concat(g));case 56:E=a.sent,f=E.data,n.user=f.user,n.user.pendingRequests=f.pendingRequests,n.user.tavernRequests=f.tavernRequests,n.user.contacts=f.contacts,delete n.user.password,t(n),a.next=69;break;case 66:a.prev=66,a.t3=a.catch(50),e.dispatch(h());case 69:return a.prev=69,e.dispatch({type:"SET_LOADING"}),a.finish(69);case 72:return a.abrupt("break",141);case 73:return a.prev=73,e.dispatch({type:"SET_LOADING"}),C={description:s.description},a.next=78,w.a.patch("".concat(N,"/user/").concat(s.loggedUser.id),C);case 78:b=a.sent,T=b.data,delete(A=Object(m.a)({},T.user,{pendingRequests:T.pendingRequests,tavernRequests:T.tavernRequests,contacts:T.contacts})).password,n.user=A,t(n),a.next=90;break;case 86:a.prev=86,a.t4=a.catch(73),e.dispatch(h()),console.trace(a.t4);case 90:return a.prev=90,e.dispatch({type:"SET_LOADING"}),a.finish(90);case 93:return a.abrupt("break",141);case 94:return a.prev=94,e.dispatch({type:"SET_LOADING"}),a.next=98,w.a.delete("".concat(N,"/user/").concat(n.userId));case 98:t(n),a.next=105;break;case 101:a.prev=101,a.t5=a.catch(94),console.trace(a.t5),e.dispatch(h());case 105:return a.prev=105,e.dispatch({type:"SET_LOADING"}),a.finish(105);case 108:return a.abrupt("break",141);case 109:return a.prev=109,e.dispatch({type:"SET_LOADING"}),I={avatar:n.avatar},a.next=114,w.a.patch("".concat(N,"/user/").concat(s.loggedUser.id),I);case 114:t(n),a.next=121;break;case 117:a.prev=117,a.t6=a.catch(109),console.trace(a.t6),e.dispatch(h());case 121:return a.prev=121,e.dispatch({type:"SET_LOADING"}),a.finish(121);case 124:return a.abrupt("break",141);case 125:return a.prev=125,e.dispatch({type:"SET_LOADING"}),S={title:n.title},a.next=130,w.a.patch("".concat(N,"/user/").concat(s.loggedUser.id),S);case 130:t(n),a.next=136;break;case 133:a.prev=133,a.t7=a.catch(125),e.dispatch(h(a.t7));case 136:return a.prev=136,e.dispatch({type:"SET_LOADING"}),a.finish(136);case 139:return a.abrupt("break",141);case 140:t(n);case 141:case"end":return a.stop()}}),a,null,[[4,20,23,26],[27,43,46,49],[50,66,69,72],[73,86,90,93],[94,101,105,108],[109,117,121,124],[125,133,136,139]])})));return function(e){return a.apply(this,arguments)}}()}}),(function(e){return function(t){return function(){var a=Object(k.a)(M.a.mark((function a(n){var r,s,c,o,i,_;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=e.getState(),s=r.user,a.t0=n.type,a.next="INVITE_CONTACT"===a.t0?4:"DELETE_TAVERN"===a.t0?18:35;break;case 4:return a.prev=4,a.next=7,w.a.post("".concat(N,"/tavern"),{gamemaster_id:+s.loggedUser.id,participant_id:+n.contactId,tavern_id:n.tavernId});case 7:c=a.sent,o=c.data,n.participant=o.participant,n.gamemaster=o.gamemaster,t(n),a.next=17;break;case 14:a.prev=14,a.t1=a.catch(4),console.trace(a.t1);case 17:return a.abrupt("break",36);case 18:return a.prev=18,n.gamemaster&&n.participant&&(i={gamemaster_id:+n.gamemaster.id,participant_id:+n.participant.id}),a.next=22,w.a.delete("".concat(N,"/tavern/").concat(n.tavernId),{data:i});case 22:_=a.sent,n.gamemaster=_.data.gamemaster,n.participant=_.data.participant,t(n),a.next=31;break;case 28:a.prev=28,a.t2=a.catch(18),console.trace(a.t2);case 31:return a.prev=31,t(n),a.finish(31);case 34:return a.abrupt("break",36);case 35:t(n);case 36:case"end":return a.stop()}}),a,null,[[4,14],[18,28,31,34]])})));return function(e){return a.apply(this,arguments)}}()}}),(function(e){return function(t){return function(a){switch(a.type){case"WS_CONNECT":(n=window.io("http://localhost:8080")).on("connected_user",(function(e){return console.log(e)})),n.on("receive_post",(function(t){e.dispatch(function(e){return{type:"ADD_POST",post:e}}(t))})),n.on("save_posts",(function(t){e.dispatch(E(t))})),n.on("delete_post",(function(t){e.dispatch(function(e){return{type:"REMOVE_POST",id:e}}(+t))})),n.on("add_contact",(function(t){var a=t.contactInfos,n=Object(m.a)({},a.user,{pendingRequests:a.pendingRequests,tavernRequests:a.tavernRequests,contacts:a.contacts});delete n.password,e.dispatch(function(e){return{type:"ADD_CONTACT_REQUEST",contact:e}}(n))})),n.on("accept_contact",(function(t){var a=t.contactInfos,n=Object(m.a)({},a.user,{pendingRequests:a.pendingRequests,tavernRequests:a.tavernRequests,contacts:a.contacts});delete n.password,e.dispatch(function(e){return{type:"ADD_CONTACT_REQUEST",contact:e}}(n))})),n.on("contact_update",(function(t){delete t.posts,e.dispatch(function(e){return{type:"CONTACT_UPDATE",contact:e}}(t))})),n.on("delete_contact",(function(t){var a=t.contactInfos,n=Object(m.a)({},a.user,{pendingRequests:a.pendingRequests,tavernRequests:a.tavernRequests,contacts:a.contacts});delete n.password,e.dispatch(function(e){return{type:"REMOVE_CONTACT",contact:e}}(n))})),n.on("tavern_invite",(function(t){var a=t.gamemaster,n=t.participantId,r=t.tavernId,s=t.date;e.dispatch(function(e,t,a,n){return{type:"TAVERN_INVITE",gamemaster:e,participantId:t,tavernId:a,date:n}}(a,n,r,s))})),n.on("delete_tavern_invite",(function(t){var a=t.gamemaster,n=t.participant,r=t.tavernId;e.dispatch(function(e,t,a){return{type:"DELETE_TAVERN_INVITE",gamemaster:e,participant:t,tavernId:a}}(a,n,r))})),n.on("disconnected_user",(function(e){e.user,e.message;n.removeAllListeners()}));break;default:t(a)}}}}))),B=Object(u.e)(y,F),q=a(6),G=a(119),V=function(e){var t=e.component,a=e.isLoggedIn,n=e.hasTriedToAuthenticate,r=Object(G.a)(e,["component","isLoggedIn","hasTriedToAuthenticate"]);return s.a.createElement(q.b,Object.assign({},r,{render:function(e){return n?a?s.a.createElement(t,e):s.a.createElement(q.a,{to:"/auth"}):null}}))};V.defaultProps={isLoggedIn:!1};var H=V,z=Object(_.b)((function(e){return{isLoggedIn:e.user.isLoggedIn,hasTriedToAuthenticate:e.user.hasTriedToAuthenticate}}),(function(e){return{}}))(H),W=a(5),Q=a(36),Y=a.n(Q),K=a(74),J=a.n(K),X=function(e){var t=e.logout,a=e.isOpen,n=e.setIsOpen,r=e.tavernId;return s.a.createElement("ul",{className:a?[Y.a.NavLinks,Y.a.NavLinks__Open].join(" "):Y.a.NavLinks},s.a.createElement("li",null,s.a.createElement(i.c,{onClick:n,exact:!0,to:"/"},"Thread")),s.a.createElement("li",null,s.a.createElement(i.c,{exact:!0,to:"/tavern/".concat(r)},"Tavern")),s.a.createElement("li",null,s.a.createElement(i.c,{onClick:n,exact:!0,to:"/compte"},"Compte")),s.a.createElement("li",null,s.a.createElement("span",{className:Y.a.NavLinks__Deconnexion,onClick:t},s.a.createElement("img",{src:J.a,alt:"bouton deconnexion"}),s.a.createElement("div",{className:Y.a.NavLinks__Deconnexion__Title},"D\xe9connexion"))))},Z=function(e){var t=e.isOpen;return s.a.createElement("div",{className:t?"sword sword--open":"sword"},s.a.createElement("div",{className:"l-container container"},s.a.createElement("div",{className:"l-sword"},s.a.createElement("div",{className:"l-handle-orb handle-orb"}),s.a.createElement("div",{className:"l-handle-block handle-block"}),s.a.createElement("div",{className:"l-handle-block-curve handle-block-curve"}),s.a.createElement("div",{className:"l-handle handle"}),s.a.createElement("div",{className:"l-small-handle-block handle-block"}),s.a.createElement("div",{className:"l-large-handle-block-curve handle-block-curve"}),s.a.createElement("div",{className:"l-blade"},s.a.createElement("div",{className:"l-blade-top blade-top"}),s.a.createElement("div",{className:"l-blade-left blade-left"}),s.a.createElement("div",{className:"l-blade-right blade-right"}),s.a.createElement("div",{className:"l-blade-bottom blade-bottom"})))))},$=a(32),ee=a.n($),te=a(23),ae=a.n(te),ne=(a(149),function(e){var t=e.logout,a=e.user,n=e.tavernId,c=Object(r.useState)(!1),o=Object(W.a)(c,2),_=o[0],u=o[1];return s.a.createElement("div",{className:ae.a.Nav__Header},s.a.createElement("div",{className:ae.a.Nav__Header__Welcome},s.a.createElement("h1",null,"Bienvenue"),s.a.createElement("h2",{className:ae.a.Nav__Header__Welcome__User},a.username),s.a.createElement("span",{className:ae.a.Nav__Header__Welcome__Title},a.title)),s.a.createElement("nav",{className:ae.a.Nav},s.a.createElement(i.b,{to:"/",className:ae.a.Nav__Logo},s.a.createElement("img",{src:ee.a,alt:"logo TheTavern",title:"Retour \xe0 l' accueil"})),s.a.createElement("div",{className:ae.a.Nav__Menu__Container},s.a.createElement("div",{onClick:function(){return u(!_)},className:_?ae.a.Nav__Menu__Open:ae.a.Nav__Menu},s.a.createElement("div",{className:"sword-menu"},s.a.createElement(Z,{isOpen:_}),s.a.createElement(Z,{isOpen:_}),s.a.createElement(Z,{isOpen:_}))),s.a.createElement(X,{tavernId:n,logout:t,isOpen:_,setIsOpen:function(){return u(!_)}}))))}),re=Object(_.b)((function(e){return{user:e.user.loggedUser,tavernId:e.global.tavernId}}),(function(e){return{logout:function(){return e({type:"LOGOUT"})}}}))(ne),se=a(58),ce=a.n(se),oe=a(75),ie=a.n(oe),_e=function(){return s.a.createElement("video",{className:ie.a.Video,id:"background-video",loop:!0,autoPlay:!0},s.a.createElement("source",{src:ce.a,type:"video/mp4"}),s.a.createElement("source",{src:ce.a,type:"video/ogg"}),"Your browser does not support the video tag.")},ue=a(26),le=a.n(ue),de=function(e){var t,a=e.section,n=e.children;switch(a){case"auth":t=s.a.createElement("div",{className:le.a.Auth},s.a.createElement("header",{className:le.a.Auth__Logo},s.a.createElement("img",{src:ee.a,alt:"logo TheTavern"})),s.a.createElement("main",{className:le.a.Auth__Main},n,s.a.createElement(_e,null)),s.a.createElement("footer",{className:le.a.Auth__Footer},"\xa9 thetavern | Tous droits r\xe9serv\xe9s | 2020"));break;case"admin":t=s.a.createElement("main",null,n);break;default:t=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:le.a.Main},s.a.createElement(re,null),s.a.createElement("main",{className:le.a.Main__Main},n),s.a.createElement("footer",{className:le.a.Main__Footer},"\xa9 thetavern | Tous droits r\xe9serv\xe9s | 2020")))}return s.a.createElement(s.a.Fragment,null,t)},me=a(18),pe=a.n(me),ve=a(59),ge=a.n(ve),Ee=function(){return s.a.createElement("div",{className:pe.a.Presentation},s.a.createElement("p",{className:pe.a.Mobile},"Bienvenue dans le premier r\xe9seau social d\xe9di\xe9 au jeu de r\xf4le."),s.a.createElement("p",{className:pe.a.Mobile},"Cr\xe9\xe9 pour vous, joueur de jeu de r\xf4le d\xe9butant ou initi\xe9 ! Rencontrez de nouveau amis, rassemblez vous pour jouer gr\xe2ce \xe0 un syst\xe8me de partage d\u2019\xe9cran et surtout racontez vos folles aventures."),s.a.createElement("div",{className:pe.a.Desktop},s.a.createElement("h1",{className:pe.a.Desktop__Title},s.a.createElement("img",{className:pe.a.CrossSwordDesktop,src:ge.a,alt:"\xe9p\xe9es entrecrois\xe9es"}),"Bienvenue"),s.a.createElement("h2",{className:pe.a.Desktop__SubTitle},"dans le premier r\xe9seau social d\xe9di\xe9 au jeu de r\xf4le.")),s.a.createElement("p",{className:pe.a.Desktop__AmbientText},"\xab\u202fLe feu cr\xe9pite dans la chemin\xe9e, l\u2019odeur des braises se m\xe9lange \xe0 celle du vieux bois et aux brumes des breuvages servis dans l\u2019\xe9tablissement. Les discutions vont bon train, certains racontent leurs aventures du jour, d\u2019autres se pr\xe9parent pour un long p\xe9riple. Pas de doutes cette taverne a quelque chose de sp\xe9cial et vous n\u2019allez pas tarder \xe0 le d\xe9couvrir !\u202f\xbb"),s.a.createElement("p",{className:pe.a.Desktop__PresentationText},"Cr\xe9\xe9 pour vous, joueur de jeu de r\xf4le d\xe9butant ou initi\xe9 ! Rencontrez de nouveau amis, rassemblez vous pour jouer gr\xe2ce \xe0 un syst\xe8me de partage d\u2019\xe9cran et surtout racontez vos folles aventures."),s.a.createElement("p",{className:pe.a.Desktop__TavernierText},"\xab\u202fPrenez place et mettez-vous \xe0 l'aise, il y a toujours une table de libre pour vous.\u202f\xbb"),s.a.createElement("p",{className:pe.a.Signature},"Le tavernier"),s.a.createElement("img",{className:pe.a.CrossSword,src:ge.a,alt:"\xe9p\xe9es entrecrois\xe9es"}))},fe=a(47),Ce=a.n(fe),he=function(e){var t=e.history,a=e.match;return Object(r.useEffect)((function(){document.title="".concat("TheTavern"," | Authentification")}),[]),s.a.createElement(s.a.Fragment,null,s.a.createElement(Ee,null),s.a.createElement("div",{onClick:function(){t.push("".concat(a.path,"/connexion"))},className:Ce.a.Connexion__Container},s.a.createElement(i.b,{to:"/auth/connexion",className:Ce.a.Connexion},"Connexion"),s.a.createElement("div",{className:Ce.a.Arrow}),s.a.createElement("div",null)))},be=a(33),Ne=a.n(be),Te=a(76),Ae=a.n(Te),Ie=function(e){var t,a=e.type,n=e.placeholder,r=e.reducerName,c=e.name,o=e.value,i=e.inputChange,_=e.cssClass,u=e.id,l=e.post,d=e.hasError,m=e.unsetError,p=A(),v=p.year,g=p.month,E=p.day,f=function(e){i(c,e.target.value,r),d&&m()};switch(a){case"textarea":t=s.a.createElement("textarea",{id:u,className:_,placeholder:n,name:c,value:o,maxLength:l?"2000":"300",onChange:f});break;case"password":t=s.a.createElement("input",{id:u,className:_,type:"password",placeholder:n,name:c,value:o,onChange:f});break;case"email":t=s.a.createElement("input",{id:u,className:_,type:"email",placeholder:n,name:c,value:o,onChange:f});break;case"date":t=s.a.createElement("input",{id:u,className:_,type:"date",min:"".concat(v-80,"-01-01"),max:"".concat(v-16,"-").concat(g,"-").concat(E),placeholder:n,name:c,value:o,onChange:f});break;default:t=s.a.createElement("input",{id:u,type:"text",className:_,placeholder:n,name:c,value:o,onChange:f})}return s.a.createElement(s.a.Fragment,null,t)};Ie.defaultProps={type:"text",placeholder:"",cssClass:"",id:""};var Se=Ie,Oe=Object(_.b)((function(e,t){return{value:e[t.reducerName][t.name],hasError:e.global.hasError}}),(function(e){return{inputChange:function(t,a,n){return e(function(e,t,a){return{type:"INPUT_CHANGE",name:e,value:t,reducerName:a}}(t,a,n))},unsetError:function(){return e({type:"UNSET_ERROR"})}}}))(Se),Le=a(77),De=a.n(Le),Pe=function(e){var t=e.message;e.cssClass;return s.a.createElement("div",{className:De.a.ErrorMessage},s.a.createElement("p",null,t))},je=a(11),xe=a.n(je),ye=function(e){e.match;var t=e.history,a=e.login,n=e.resetFields,c=e.isLoggedIn,o=e.hasError,_=e.unsetError,u=e.errorMessage,l=e.email,d=e.password,m=e.setError;Object(r.useEffect)((function(){c&&(t.push("/"),n("auth"))}),[c]),Object(r.useEffect)((function(){n("auth"),_()}),[]);return Object(r.useEffect)((function(){document.title="".concat("TheTavern"," | Connexion")}),[]),s.a.createElement(s.a.Fragment,null,window.matchMedia("(min-width: 768px)").matches&&s.a.createElement(Ee,null),s.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),!l||!d)return m("Tous les champs doivent \xeatre renseign\xe9s","all fields",{email:!l&&!0,password:!d&&!0});_(),a()},className:xe.a.Signin},s.a.createElement("img",{onClick:function(e){t.push("/auth")},className:xe.a.Signin__CrossSword,src:Ne.a,alt:"bouton de fermeture"}),s.a.createElement("div",{className:xe.a.Signin__Container},s.a.createElement("label",{htmlFor:"email"},"Email"),s.a.createElement(Oe,{id:"email",reducerName:"auth",placeholder:"exemple@tavern.com",type:"email",name:"email",cssClass:o?[xe.a.Signin__Email,xe.a.Signin__Field,xe.a.Signin__Error].join(" "):[xe.a.Signin__Email,xe.a.Signin__Field].join(" ")}),s.a.createElement("div",{className:xe.a.Password},s.a.createElement("label",{htmlFor:"password"},"Mot de passe"),s.a.createElement(i.b,{className:xe.a.Password__Forgotten,to:"#"},"Mot de passe oubli\xe9 ?")),s.a.createElement(Oe,{id:"password",reducerName:"auth",placeholder:"*****",type:"password",name:"password",cssClass:o?[xe.a.Signin__Password,xe.a.Signin__Field,xe.a.Signin__Error].join(" "):[xe.a.Signin__Password,xe.a.Signin__Field].join(" ")}),o&&s.a.createElement(Pe,{message:u}),s.a.createElement("div",{className:xe.a.Signin__Btn__Container},s.a.createElement(i.b,{className:xe.a.Signin__Signup,to:"/auth/inscription"},"Pas encore inscrit ?"),s.a.createElement("button",{className:xe.a.Signin__Btn},s.a.createElement("img",{className:xe.a.Signin__Btn__Shield,src:Ae.a,alt:"Bouclier"}),"Connexion")))))},Re=Object(_.b)((function(e){return{isLoggedIn:e.user.isLoggedIn,hasError:e.global.hasError,errorMessage:e.global.errorMessage,email:e.auth.email,password:e.auth.password}}),(function(e){return{login:function(){return e({type:"LOGIN"})},resetFields:function(){return e(C("auth"))},unsetError:function(){return e({type:"UNSET_ERROR"})},setError:function(t,a,n){return e(h(t,a,n))}}}))(ye),Me=a(78),ke=a(79),Ue=a.n(ke),we=a(4),Fe=a.n(we),Be=function(e){var t=e.history,a=e.signup,n=e.resetFields,c=e.hasError,o=e.unsetError,i=e.errorMessage,_=e.resolve,u=e.isResolve,l=e.email,d=e.username,m=e.birthdate,p=e.password,v=e.confirmPassword,g=e.setError;Object(r.useEffect)((function(){_&&(t.push("/auth/connexion"),u())}),[_,c]),Object(r.useEffect)((function(){o(),n("auth")}),[]),Object(r.useEffect)((function(){document.title="".concat("TheTavern"," | Inscription")}),[]);var E=function(){var e=Object(k.a)(M.a.mark((function e(t){var r,s,c,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l&&d&&m&&p&&v){e.next=5;break}return e.abrupt("return",g("Tous les champs doivent \xeatre renseign\xe9s","all fields",{email:!l&&!0,username:!d&&!0,birthdate:!m&&!0,password:!p&&!0,confirmPassword:!v&&!0}));case 5:if(Me.validate(l)){e.next=9;break}return e.abrupt("return",g("L'email doit \xeatre un email valide","email"));case 9:if(!(d.length>12)){e.next=13;break}return e.abrupt("return",g("Le pseudo ne doit pas exc\xe9der 12 caract\xe8res","username too long"));case 13:if(p===v){e.next=17;break}return e.abrupt("return",g("Les mots de passe doivent \xeatre identiques","password not matching"));case 17:if(!p){e.next=24;break}if(r=/[A-Z]/.test(p),s=/[a-z]/.test(p),c=/\d/.test(p),o=/\W/.test(p),r&&s&&c&&o&&!(p.length<8)){e.next=24;break}return e.abrupt("return",g("Le mot de passe doit contenir au moins 8 caract\xe8res, 1 majuscule, 1 minuscule, 1 chiffre et 1 caract\xe8re sp\xe9cial","invalid password"));case 24:a(),n("auth");case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,window.matchMedia("(min-width: 768px)").matches&&s.a.createElement(Ee,null),s.a.createElement("form",{onSubmit:E,className:Fe.a.Signup},s.a.createElement("img",{onClick:function(){t.push("/auth"),n("auth")},alt:"bouton de fermeture",className:Fe.a.Signup__CrossSword,src:Ne.a}),s.a.createElement("div",{className:Fe.a.Signup__Container},s.a.createElement("label",{htmlFor:"email"},"Email"),s.a.createElement(Oe,{id:"email",cssClass:c.email?[Fe.a.Signup__Field,Fe.a.Signup__Email,Fe.a.Signup__HasError].join(" "):[Fe.a.Signup__Field,Fe.a.Signup__Email].join(" "),reducerName:"auth",placeholder:"exemple@tavern.com",type:"email",name:"email"}),s.a.createElement("label",{htmlFor:"username"},"Pseudo"),s.a.createElement(Oe,{id:"username",cssClass:c.username?[Fe.a.Signup__Field,Fe.a.Signup__Username,Fe.a.Signup__HasError].join(" "):[Fe.a.Signup__Field,Fe.a.Signup__Username].join(" "),reducerName:"auth",placeholder:"12 caract\xe8res max",name:"username"}),s.a.createElement("label",{htmlFor:"birthdate"},"Date de naissance"),s.a.createElement(Oe,{id:"birthdate",cssClass:c.birthdate?[Fe.a.Signup__Field,Fe.a.Signup__Birthdate,Fe.a.Signup__HasError].join(" "):[Fe.a.Signup__Field,Fe.a.Signup__Birthdate].join(" "),reducerName:"auth",type:"date",name:"birthdate"}),s.a.createElement("label",{htmlFor:"password"},"Mot de passe"),s.a.createElement(Oe,{id:"password",cssClass:c.password?[Fe.a.Signup__Field,Fe.a.Signup__Password,Fe.a.Signup__HasError].join(" "):[Fe.a.Signup__Field,Fe.a.Signup__Password].join(" "),reducerName:"auth",placeholder:"*****",type:"password",name:"password"}),s.a.createElement("label",{htmlFor:"confirm-password"},"Confirmation mot de passe"),s.a.createElement(Oe,{id:"confirm-password",cssClass:c.confirmPassword?[Fe.a.Signup__Field,Fe.a.Signup__Password,Fe.a.Signup__HasError].join(" "):[Fe.a.Signup__Field,Fe.a.Signup__ConfirmPassword].join(" "),reducerName:"auth",placeholder:"*****",type:"password",name:"confirmPassword"}),c&&s.a.createElement(Pe,{message:i}),s.a.createElement("button",{className:Fe.a.Signup__Btn},s.a.createElement("img",{className:Fe.a.Signup__Btn__Scroll,src:Ue.a,alt:"parchemin"}),"S'inscrire"))))},qe=Object(_.b)((function(e){return{isLoggedIn:e.user.isLoggedIn,hasError:e.global.hasError,errorMessage:e.global.errorMessage,resolve:e.global.isResolve,email:e.auth.email,username:e.auth.username,birthdate:e.auth.birthdate,password:e.auth.password,confirmPassword:e.auth.confirmPassword}}),(function(e){return{signup:function(){return e({type:"SIGNUP"})},resetFields:function(){return e(C("auth"))},unsetError:function(){return e({type:"UNSET_ERROR"})},isResolve:function(){return e({type:"ISRESOLVE"})},setError:function(t,a,n){return e(h(t,a,n))}}}))(Be),Ge=function(e){var t=e.match;return s.a.createElement(s.a.Fragment,null,s.a.createElement(de,{section:"auth"},s.a.createElement(q.d,null,s.a.createElement(q.b,{exact:!0,path:"".concat(t.path),component:he}),s.a.createElement(q.b,{path:"".concat(t.path,"/connexion"),component:Re}),s.a.createElement(q.b,{path:"".concat(t.path,"/inscription"),component:qe}))))},Ve=a(80),He=a.n(Ve),ze=a(45),We=a(22),Qe=a.n(We),Ye=function(e){var t,a=e.contact,n=e.match,r=e.inviteIntoTavern,c=e.connectedContacts,o=e.connection,i=Object(m.a)({},a,{isInvitable:!0}),_=Object(ze.a)(c);try{for(_.s();!(t=_.n()).done;){+t.value.id===+a.id&&(i.isInvitable=!1)}}catch(l){_.e(l)}finally{_.f()}var u=i.tavernRequests.find((function(e){return+e.gamemaster_id===+o.extra.user.id}));return s.a.createElement("li",{className:Qe.a.ContactList__List__Item,key:i.id},s.a.createElement("img",{className:Qe.a.ContactList__List__Item__Avatar,src:i.avatar,alt:"Avatar de ".concat(i.username)}),s.a.createElement("p",{className:Qe.a.ContactList__List__Item__Content},i.username),i.isInvitable&&s.a.createElement("button",{disabled:u,className:u?Qe.a.ContactList__List__Item__Btn__Invited:Qe.a.ContactList__List__Item__Btn,onClick:function(){return e=+i.id,void r(+e,n.params.id);var e}},u?"Invit\xe9":"Inviter"))},Ke=function(e){var t=e.connection,a=e.inviteIntoTavern,n=e.match,r=e.connectedContacts,c=t.extra.user.contacts;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:Qe.a.AddPlayerContainer},s.a.createElement("div",{className:Qe.a.AddPalyerContainer__ContactList},s.a.createElement("ul",{className:Qe.a.ContactList__List},c&&c.map((function(e){return s.a.createElement(Ye,{key:e.id,contact:e,inviteIntoTavern:a,match:n,connection:t,connectedContacts:r})}))))))},Je=a(81),Xe=a.n(Je),Ze=a(82),$e=a.n(Ze),et=a(83),tt=a.n(et),at=a(84),nt=a.n(at),rt=a(85),st=a.n(rt),ct=a(86),ot=a.n(ct),it=a(87),_t=a.n(it),ut=function(e){var t,a=e.value,n=e.update;switch(a){case 4:t=$e.a;break;case 6:t=tt.a;break;case 8:t=nt.a;break;case 10:t=st.a;break;case 12:t=ot.a;break;case 20:t=_t.a}return s.a.createElement("div",{title:"d\xe9 de ".concat(a),className:Xe.a.Dice},s.a.createElement("img",{src:t,onClick:function(){n(a)},alt:"d\xe9 de ".concat(a)}),s.a.createElement("span",null,"d",a))},lt=a(88),dt=a.n(lt),mt=function(e){var t=e.update;return s.a.createElement("input",{className:dt.a.Multiplier,type:"number",pattern:"[0-9]*",min:"1",max:"10",placeholder:"1",onChange:t})},pt=(a(89),a(40)),vt=a.n(pt),gt=function(e){var t=e.setDicesValue,a=e.setRolledDices,n=e.user,c=e.connection,o=e.addChatMessage,i=Object(r.useState)(1),_=Object(W.a)(i,2),u=_[0],l=_[1],d=Object(r.useState)([4,6,8,10,12,20]),m=Object(W.a)(d,2),p=m[0],v=(m[1],function(e){for(var r=+u,s=0,i=0;i<r;i++)s+=Math.floor(Math.random()*e)+1;a(r),t(s),o({message:"".concat(n.username," a lanc\xe9 ").concat(r," d\xe9").concat(r>1?"s":""," de ").concat(e," et a obtenu ").concat(s)}),c.send({type:"diceRoll",message:"".concat(n.username," a lanc\xe9 ").concat(r," d\xe9").concat(r>1?"s":""," de ").concat(e," et a obtenu ").concat(s)})});return s.a.createElement("div",{className:vt.a.DiceRoller},s.a.createElement("div",{className:vt.a.DiceRoller__Multiplier__Container},s.a.createElement("p",{className:vt.a.DiceRoller__Multiplier},"Nombre de d\xe9s",s.a.createElement(mt,{value:u,update:function(e){+e.target.value>10||+e.target.value<1||l(e.target.value)}})),s.a.createElement("div",{className:vt.a.DiceRoller__Dice__Container},p.map((function(e){return s.a.createElement(ut,{value:e,update:v})})))))},Et=a(90),ft=a.n(Et),Ct=a(27),ht=a.n(Ct),bt=a(46),Nt=a.n(bt),Tt=a(91),At=a.n(Tt),It=function(e){var t=e.connection,a=e.history,n=e.match,c=e.resetChat,o=e.connectedContacts,i=e.inviteIntoTavern,_=e.deleteTavern,u=e.setDicesValue,l=e.setRolledDices,d=e.user,m=e.addChatMessage,p=e.clearConnectedContactsList,v=Object(r.useState)(!1),g=Object(W.a)(v,2),E=g[0],f=g[1],C=Object(r.useState)(!1),h=Object(W.a)(C,2),b=h[0],N=h[1],T=Object(r.useRef)(null);Object(r.useEffect)((function(){!function(e,t){e.socketURL="http://localhost:8080/",e.videosContainer=t,e.socketMessageEvent="screen-sharing",e.session={screen:!0,audio:!0,data:!0},e.language="fr",e.maxParticipantsAllowed=8,e.iceServers=[{urls:["stun:stun.l.google.com:19302","stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302","stun:stun.l.google.com:19302?transport=udp"]}],e.channel="tavern",e.autoCloseEntireSession=!1,e.onstream=function(a){e.isInitiator&&"remote"===a.type&&a.stream.mute(),"VIDEO"===a.mediaElement.nodeName&&(a.mediaElement.style.width="100%",a.mediaElement.style.height="100%",t.current.append(a.mediaElement))}}(t,T),t.onMediaError=function(e){_(n.params.id),t.closeSocket(),a.push("/")}}),[t]);return s.a.createElement("div",{className:ht.a.ScreenContainer,ref:T},s.a.createElement("img",{className:ht.a.ScreenContainer__Logo,src:ee.a,alt:"logo"}),s.a.createElement("div",{className:ht.a.ScreenContainer__Icons},s.a.createElement("img",{onClick:function(){return N(!b)},className:ht.a.ScreenContainer__Icons__D20,src:Nt.a,alt:"d20"}),b&&s.a.createElement(gt,{addChatMessage:m,user:d,connection:t,setDicesValue:u,setRolledDices:l}),s.a.createElement("img",{title:"Liste des Contacts",className:ht.a.ScreenContainer__Icons__AddPlayer,onClick:function(){return f(!E)},src:At.a,alt:"Add PLayer"}),s.a.createElement("img",{src:ft.a,className:ht.a.ScreenContainer__Icons__Exit,alt:"door",title:"Quitter la tavern",onClick:function(e){if(t.extra.user.isGamemaster){var r,s=Object(ze.a)(t.extra.user.contacts);try{var o=function(){var e=r.value;e.tavernRequests.forEach((function(a){+a.gamemaster_id===+t.extra.user.id&&_(n.params.id,t.extra.user,e)}))};for(s.s();!(r=s.n()).done;)o()}catch(i){s.e(i)}finally{s.f()}}t.closeSocket(),c(),p(),a.replace("/")}}),E&&o.find((function(e){return e.isGamemaster}))?s.a.createElement(Ke,{connectedContacts:o,connection:t,match:n,inviteIntoTavern:i}):null))},St=a(14),Ot=a.n(St),Lt=function(e){var t=e.connection,a=e.message,n=e.messages,c=e.addChatMessage,o=e.resetFields,i=e.user,_=Object(r.useRef)(null);Object(r.useEffect)((function(){var e=_.current;e.scrollTop=e.scrollHeight}),[n]),Object(r.useEffect)((function(){t.onmessage=function(e){e.extra.user=i,"message"===e.data.type?c({message:e.data.message,user:e.data.user}):"diceRoll"===e.data.type&&c({message:e.data.message})}}),[]);var u=function(e){return t.isInitiator?Object(m.a)({},e,{username:"".concat(e.username," / GameMaster")}):e};return s.a.createElement("div",{className:Ot.a.Chat},s.a.createElement("div",{className:Ot.a.Chat__Messages,ref:_},s.a.createElement("div",{className:Ot.a.Chat__Messages__Message},s.a.createElement("p",{className:Ot.a.Chat__Messages__Message__Player},"Le Tavernier"),s.a.createElement("p",{className:Ot.a.Chat__Messages__Message__Content},"Bienvenue dans la Tavern ! Preparez vous \xe0 embarquer dans une aventure fantastique !")),n.map((function(e){return s.a.createElement("div",{key:Object(j.a)(),className:Ot.a.Chat__Messages__Message},e.user&&s.a.createElement("p",{className:e.user.isGamemaster&&e.user.username==="".concat(i.username," / GameMaster")?Ot.a.Chat__Messages__Message__Gamemaster__Self:e.user.isGamemaster?Ot.a.Chat__Messages__Message__Gamemaster:e.user.username===i.username?Ot.a.Chat__Messages__Message__Self:Ot.a.Chat__Messages__Message__Player},e.user.username),s.a.createElement("pre",{className:e.user?Ot.a.Chat__Messages__Message__Content:Ot.a.Chat__Messages__DiceRoll},e.message))}))),s.a.createElement("form",{className:Ot.a.Chat__Message__Form,onKeyUp:function(e){13===e.keyCode&&(e.shiftKey||(c({message:a,user:u(i)}),t.send({type:"message",message:a,user:u(i)}),o("tavern")))},onSubmit:function(e){e.preventDefault(),a&&(c({message:a,user:u(i)}),t.send({type:"message",message:a,user:u(i)}),o("tavern"))}},s.a.createElement(Oe,{type:"textarea",cssClass:Ot.a.Chat__Message__Input,reducerName:"tavern",name:"message"}),s.a.createElement("button",{className:Ot.a.Chat__Message__Form__Btn},"Envoyer")))},Dt=Object(_.b)((function(e,t){return{message:e.tavern.message,messages:e.tavern.messages}}),(function(e){return{addChatMessage:function(t){return e(p(t))},resetFields:function(t){return e(C(t))}}}))(Lt),Pt=a(28),jt=a.n(Pt),xt=function(e){var t=e.connectedContacts,a=e.user;return s.a.createElement("div",{className:jt.a.ConnectedContactsList},s.a.createElement("ul",{className:jt.a.ConnectedContactsList__List},!a.isGamemaster&&s.a.createElement("li",{className:jt.a.ConnectedContactsList__List__Item,key:a.id},s.a.createElement("img",{title:a.username,className:jt.a.ConnectedContactsList__List__Avatar,src:a.avatar,alt:"Avatar de ".concat(a.username)})),t.map((function(e){return e.isGamemaster&&e.id===a.id||e.isGamemaster?null:s.a.createElement("li",{className:jt.a.ConnectedContactsList__List__Item,key:e.id},s.a.createElement("img",{title:e.username,className:jt.a.ConnectedContactsList__List__Avatar,src:e.avatar,alt:"Avatar de ".concat(e.username)}))}))))},yt=a(41),Rt=a.n(yt),Mt=function(e){var t=e.match,a=e.history,n=e.user,c=e.resetChat,o=e.setTavernId,i=e.connectedContacts,_=e.tavernContactConnect,u=e.tavernContactDisconnect,l=e.inviteContact,d=e.openTavern,p=e.deleteTavern,v=e.addChatMessage,g=e.clearConnectedContactsList,E=Object(r.useState)(new He.a),f=Object(W.a)(E,1)[0],C=Object(r.useState)(!1),h=Object(W.a)(C,2),b=h[0],N=h[1],T=Object(r.useState)(1),A=Object(W.a)(T,2),I=A[0],S=A[1],O=Object(r.useState)(1),L=Object(W.a)(O,2),D=L[0],P=L[1];return Object(r.useEffect)((function(){document.title="".concat("TheTavern"," | Tavern")}),[]),Object(r.useEffect)((function(){o(t.params.id)}),[]),Object(r.useEffect)((function(){return f.checkPresence(t.params.id,(function(e,t){!0===e?(f.dontCaptureUserMedia=!0,f.extra.user=Object(m.a)({},n,{isGamemaster:!1}),f.join(t),N(!0)):(f.extra.user=Object(m.a)({},n,{isGamemaster:!0}),f.open(t),d(f.isInitiator),_(f.extra.user),N(!0))})),f.onopen=function(e){var t=e.extra.user;t.connectionUserId=e.userid,_(t)},f.onclose=function(e){u(e.userid)},f.onstreamended=function(e){e.userid===f.userid&&(f.getAllParticipants().forEach((function(e){f.disconnectWith(e)})),f.closeSocket())},function(){f.attachStreams.forEach((function(e){return e.stop()}))}}),[]),s.a.createElement("div",{className:Rt.a.Tavern},s.a.createElement(It,{resetChat:c,match:t,history:a,user:n,addChatMessage:v,connection:f,connectedContacts:i,deleteTavern:p,inviteIntoTavern:l,setDicesValue:P,setRolledDices:S,clearConnectedContactsList:g}),s.a.createElement("div",{className:Rt.a.Tavern__Chat__Container},b&&s.a.createElement("div",{className:Rt.a.ContactListMoreSelf},s.a.createElement("div",null,s.a.createElement("p",null,i.map((function(e){return e.isGamemaster?s.a.createElement("img",{key:e.id,title:e.username,className:Rt.a.Tavern__Avatar,src:e.avatar,alt:"Avatar de ".concat(e.username)}):null})))),s.a.createElement(xt,{connectedContacts:i,user:n})),s.a.createElement(Dt,{user:n,tavernId:t.params.id,connectedContacts:i,connection:f,rolledDices:I,dicesValue:D})))},kt=Object(_.b)((function(e){return{user:e.user.loggedUser,connectedContacts:e.tavern.connectedContacts,isInitiator:e.tavern.isInitiator}}),(function(e){return{resetChat:function(){return e({type:"RESET_CHAT"})},setTavernId:function(t){return e(function(e){return{type:"SET_TAVERN_ID",tavernId:e}}(t))},tavernContactConnect:function(t){return e(function(e){return{type:"TAVERN_CONTACT_CONNECT",user:e}}(t))},tavernContactDisconnect:function(t){return e(function(e){return{type:"TAVERN_CONTACT_DISCONNECT",userId:e}}(t))},inviteContact:function(t,a){return e(function(e,t){return{type:"INVITE_CONTACT",contactId:e,tavernId:t}}(t,a))},openTavern:function(t){return e(function(e){return{type:"OPEN_TAVERN",isInitiator:e}}(t))},deleteTavern:function(t){return e(v(t))},addChatMessage:function(t){return e(p(t))},clearConnectedContactsList:function(){return e({type:"CLEAR_CONNECTED_CONTACTS_LIST"})}}}))(Mt),Ut=a(29),wt=a.n(Ut),Ft=a(48),Bt=a.n(Ft),qt=function(e){var t=e.avatarImage,a=e.updateAvatar,n=e.avatar,r=e.submit;return s.a.createElement("div",{className:Bt.a.avatarCase,onClick:function(){return a(t)}},s.a.createElement("input",{className:Bt.a.radio,type:"radio",value:t,checked:n===t,readOnly:!0,name:"avatarRadio"}),s.a.createElement("img",{src:t,alt:t,className:n===t?Bt.a.Highlighted:"",onDoubleClick:r}))},Gt=a(92),Vt=a.n(Gt),Ht=function(e){var t=e.clicked;return s.a.createElement("div",{onClick:t,className:Vt.a.Backdrop})};Ht.defaultProps={clicked:function(){return""}};var zt=Ht,Wt=function(e){var t=e.modalCancel,a=e.avatar,n=e.avatarImages,r=e.updateAvatar,c=e.updateImage,o=function(e){e.preventDefault(),c(a),t()};return s.a.createElement(s.a.Fragment,null,s.a.createElement(zt,{clicked:t}),s.a.createElement("div",{className:wt.a.Modal},s.a.createElement("div",{className:wt.a.Header},s.a.createElement("p",null,"Faites votre choix parmis les avatars ci dessous!")),s.a.createElement("div",{className:wt.a.Modal__Closebtn,onClick:t},s.a.createElement("img",{src:Ne.a,alt:"Bouton Fermeture"})),s.a.createElement("form",{className:wt.a.AvatarLists,onSubmit:o},s.a.createElement("div",{className:wt.a.AvatarLists__Container},n.map((function(e){return s.a.createElement(qt,{key:e,avatarImage:e,avatar:a,updateAvatar:function(e){return r(e)},submit:o})}))),s.a.createElement("button",{className:wt.a.AvatarLists__Valider},"Valider"))))},Qt=Object(_.b)((function(e){return{avatar:e.user.avatar}}),(function(e){return{updateAvatar:function(t){return e(function(e){return{type:"UPDATE_AVATAR",avatar:e}}(t))},updateImage:function(t,a){return e(function(e){return{type:"UPDATE_IMAGE",avatar:e}}(t))}}}))(Wt),Yt=a(37),Kt=a.n(Yt),Jt=a(93),Xt=a.n(Jt),Zt=a(49),$t=a.n(Zt),ea=function(e){var t=e.header,a=e.message,n=e.modalConfirm,r=e.modalCancel;return s.a.createElement(s.a.Fragment,null,s.a.createElement(zt,{clicked:r}),s.a.createElement("div",{className:$t.a.Modal},s.a.createElement("header",null,s.a.createElement("img",{className:$t.a.Modal__goblin,src:Xt.a,alt:"goblin"}),t),s.a.createElement("p",null,a),n&&s.a.createElement("div",{className:$t.a.Buttons__Container},s.a.createElement("button",{onClick:r},"Annuler"),s.a.createElement("button",{onClick:n},"Confirmer"))))};ea.defaultProps={header:""};var ta=ea,aa=function(e){var t=e.contact,a=e.deleteContact,n=Object(r.useState)(!1),c=Object(W.a)(n,2),o=c[0],i=c[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement("li",{className:Kt.a.Contact_Content_Container},s.a.createElement("img",{className:Kt.a.Contact_Image,src:t.avatar,alt:"avatar de ".concat(t.username),title:t.description}),s.a.createElement("span",{className:Kt.a.Contact_Content},t.username),s.a.createElement("span",{className:Kt.a.Contact_Title},t.title),s.a.createElement("button",{onClick:function(){return i(!0)},className:Kt.a.Contact_Btn},"X")),o&&s.a.createElement(ta,{modalConfirm:function(){return a(t.id)},modalCancel:function(){return i(!1)},header:"Suppression de contact",message:'Voulez vous vraiment supprimer "'.concat(t.username,'" de votre liste?')}))},na=a(94),ra=a.n(na),sa=s.a.forwardRef((function(e,t){var a=e.name,n=e.selectTitle;return s.a.createElement("li",{ref:t,className:ra.a.Title,onClick:n},a)})),ca=a(95),oa=a.n(ca),ia=function(e){var t=e.show,a=e.defaultTitles,n=e.updateTitle,c=Object(r.useRef)(null),o=a.map((function(e){return s.a.createElement(sa,{key:e,show:t,selectTitle:function(){return _(e)},name:e})})),i=function(e){o.map((function(e){return e.key})).includes(e.target.textContent)||e.target===c.current||t(!1)};Object(r.useEffect)((function(){return document.addEventListener("mousedown",i),function(){return document.removeEventListener("mousedown",i)}}));var _=function(e,a){n(e),t(!1)};return s.a.createElement("ul",{ref:c,className:oa.a.TitleList},o)},_a=Object(_.b)((function(e){return{defaultTitles:e.user.defaultTitles}}),(function(e){return{updateTitle:function(t){return e(function(e){return{type:"UPDATE_TITLE",title:e}}(t))}}}))(ia),ua=a(7),la=a.n(ua),da=a(34),ma=a.n(da),pa=a(96),va=a.n(pa),ga=a(97),Ea=a.n(ga),fa=a(98),Ca=a.n(fa),ha=a(99),ba=a.n(ha),Na=a(100),Ta=a.n(Na),Aa=a(101),Ia=a.n(Aa),Sa=a(102),Oa=a.n(Sa),La=a(103),Da=a.n(La),Pa=a(104),ja=a.n(Pa),xa=a(105),ya=a.n(xa),Ra=a(106),Ma=a.n(Ra),ka=a(107),Ua=a.n(ka),wa=a(108),Fa=a.n(wa),Ba=a(109),qa=a.n(Ba),Ga=a(110),Va=a.n(Ga),Ha=a(111),za=a.n(Ha),Wa=[va.a,Ea.a,Ca.a,ba.a,Ta.a,Ia.a,Oa.a,Da.a,ja.a,ya.a,Ma.a,Ua.a,Fa.a,qa.a,Va.a,za.a],Qa=a(112),Ya=a.n(Qa),Ka=a(113),Ja=a.n(Ka),Xa=function(e){var t=e.user,a=e.isEditing,n=e.setIsEditing,c=e.editUserAccount,o=e.deleteAcount,i=e.deleteContact,_=Object(r.useState)(!1),u=Object(W.a)(_,2),l=u[0],d=u[1],m=Object(r.useState)(!1),p=Object(W.a)(m,2),v=p[0],g=p[1],E=Object(r.useState)(!1),f=Object(W.a)(E,2),C=f[0],h=f[1];Object(r.useEffect)((function(){document.title="".concat("TheTavern"," | Gestion de compte")}),[]);return s.a.createElement("section",{className:la.a.UserAccount},s.a.createElement("div",{className:la.a.Username_Container},s.a.createElement("button",{onClick:function(e){d(!0)},className:la.a.UserAccount__DeleteBtn},"Supprimer Compte"),s.a.createElement("div",null,s.a.createElement("h1",{className:la.a.Username},t.username),s.a.createElement("div",{className:la.a.TitleContainer},s.a.createElement("h2",{title:"Changer de titre",className:la.a.TitleContainer__Title,onClick:function(){return h(!0)}},t.title," ",s.a.createElement("span",null,"\u25be")),C&&s.a.createElement(_a,{show:h})),s.a.createElement("img",{className:la.a.UserAccount__Avatar,src:null===t.avatar?ma.a:t.avatar,alt:"avatar de l'utilisateur",onClick:function(){return g(!v)},title:"Modifier l'avatar",style:{cursor:"pointer"}}))),a?s.a.createElement("form",{className:la.a.UserAccount__Description_Editing_Form,onSubmit:function(e){e.preventDefault(),n(),c()}},s.a.createElement(Oe,{cssClass:la.a.UserAccount__Description_Editing,reducerName:"user",name:"description",type:"textarea",placeholder:"Veuillez saisir votre description..."}),s.a.createElement("button",{className:la.a.UserAccount__Description_Editing_Btn},"Valider"),s.a.createElement("div",{className:la.a.UserAccount__Description__Bloc})):s.a.createElement("div",{className:la.a.UserAccount__Description},s.a.createElement("p",{className:la.a.UserAccount__Description_Text},t.description),s.a.createElement("button",{className:la.a.UserAccount__Description_Btn,onClick:function(e){n()}},s.a.createElement("img",{title:"Modifier description",className:la.a.UserAccount__Description_Btn__Feather,src:Ya.a,alt:"plume"})),s.a.createElement("div",{className:la.a.UserAccount__Description__Bloc})),s.a.createElement("h2",{className:la.a.ContactList_Title},s.a.createElement("img",{className:la.a.ContactList_Title_Logo,src:Ja.a,alt:"friends"}),"Liste De Contacts"),s.a.createElement("ul",{className:la.a.ContactList},t.contacts.map((function(e){return s.a.createElement(aa,{key:e.id,contact:e,deleteContact:i})}))),s.a.createElement("div",{className:la.a.ContactList__Bloc}),l&&s.a.createElement(ta,{modalCancel:function(){return d(!1)},header:"Suppression de Compte",message:"Voulez vous vraiment supprimer votre compte ?",modalConfirm:function(){return o(t.id)}}),v&&s.a.createElement(Qt,{modalCancel:function(){return g(!1)},avatarImages:Wa}))};Xa.defaultProps={isEditing:!1};var Za=Xa,$a=Object(_.b)((function(e){return{isEditing:e.user.isEditing,user:e.user.loggedUser}}),(function(e){return{setIsEditing:function(){return e({type:"SET_IS_EDITING"})},editUserAccount:function(){return e({type:"EDIT_USER_ACCOUNT"})},deleteAcount:function(t){return e(function(e){return{type:"DELETE_ACOUNT",userId:e}}(t))},deleteContact:function(t){return e(f(t))}}}))(Za),en=function(e){var t=e.user,a=e.cssClass;return s.a.createElement("div",{className:a},s.a.createElement("h1",null,"Bienvenue"),s.a.createElement("h2",null,t.username," ",s.a.createElement("span",null,t.title)))};en.defaultProps={cssClass:""};var tn=en,an=Object(_.b)((function(e){return{user:e.user.loggedUser}}),(function(e){return{}}))(tn),nn=a(114),rn=a.n(nn),sn=a(35),cn=a.n(sn),on=a(60),_n=a(62),un=a(8),ln=a.n(un),dn=function(e){var t=e.post,a=e.deletePost,n=e.sendContactRequest,c=e.loggedUser,o=Object(r.useState)(!1),i=Object(W.a)(o,2),_=i[0],u=i[1],l=Object(r.useState)(!1),d=Object(W.a)(l,2),m=d[0],p=d[1],v=c.pendingRequests.sent.find((function(e){return e.id===t.author.id}))&&!0,g=c.pendingRequests.received.find((function(e){return e.id===t.author.id}))&&!0,E=c.contacts.find((function(e){return e.id===t.author.id}))&&!0;return s.a.createElement("div",{className:ln.a.Container},s.a.createElement("div",{className:ln.a.Gutter}),s.a.createElement("div",{className:ln.a.Post},t.author.username===c.username?s.a.createElement("div",{className:ln.a.AuthorPost_gold},t.author.username):s.a.createElement("div",{className:ln.a.AuthorPost},t.author.username),s.a.createElement("div",{className:ln.a.AbsoluteAuthor},s.a.createElement("img",{className:E?ln.a.AuthorAvatar__AlreadyContacts:v||g?ln.a.AuthorAvatar__PendingRequest:ln.a.AuthorAvatar,src:t.author.avatar||ma.a,alt:""}),t.author.username!==c.username&&!v&&!g&&!E&&s.a.createElement("div",{className:ln.a.AbsoluteAddContact},s.a.createElement(on.a,{icon:_n.a,className:ln.a.AddButton,onClick:function(){return n(t.author.id)}}))),s.a.createElement("pre",{className:ln.a.ContentPost},t.content),s.a.createElement("div",{className:t.author.username!==c.username?ln.a.PostFooter_start:ln.a.PostFooter_between},s.a.createElement("div",{className:ln.a.DateContainer},s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("label",{onClick:function(){return p(!m)},className:m?ln.a.DateContainer__CheckedHeart:ln.a.DateContainer__Heart},"\u2764")),s.a.createElement("div",{className:ln.a.Day},s.a.createElement(cn.a,{add:{hours:2},format:"DD/MM/YY"},t.createdAt)),s.a.createElement("div",{className:ln.a.Hour},s.a.createElement(cn.a,{add:{hours:2},format:"HH"},t.createdAt),s.a.createElement("span",null,"h"),s.a.createElement(cn.a,{format:"mm"},t.createdAt)))),t.author.username===c.username&&s.a.createElement(on.a,{title:"Supprimer Le Post",color:"red",icon:_n.b,className:ln.a.DeleteButton,onClick:function(){u(!0)}}))),_&&s.a.createElement(ta,{modalCancel:function(){return u(!1)},header:"Suppression de Post",message:"Voulez vous vraiment supprimer ce post ?",modalConfirm:function(){return e=t.id,void a(e);var e}}))};dn.defaultProps={image:"",color:"#fff"};var mn=dn,pn=function(e){var t=e.posts,a=e.loggedUser,n=e.deletePost,r=e.sendContactRequest;return s.a.createElement("section",{className:rn.a.Posts},t.map((function(e){return s.a.createElement(mn,{loggedUser:a,deletePost:n,sendContactRequest:r,key:e.id,post:e})})).reverse())},vn=Object(_.b)((function(e){return{posts:e.post.list,loggedUser:e.user.loggedUser}}),(function(e){return{deletePost:function(t){return e(function(e){return{type:"DELETE_POST",id:e}}(t))},sendContactRequest:function(t){return e({type:"SEND_CONTACT_REQUEST",contactId:t})}}}))(pn),gn=a(63),En=a.n(gn),fn=function(e){var t=e.label,a=e.number;return s.a.createElement("div",{className:En.a.InvitationHeader},s.a.createElement("div",null,t),a>0&&s.a.createElement("span",{className:En.a.InvitationHeader__Number},a))},Cn=a(12),hn=a.n(Cn),bn=a(115),Nn=a.n(bn),Tn=function(e){var t,a=e.date,n=e.user,c=e.contact,o=e.gamemaster,i=e.contactRequest,_=e.tavernRequest,u=e.acceptContact,l=e.deleteContact,d=e.deleteTavern,m=e.tavernId,p=Object(r.useState)(!1),v=Object(W.a)(p,2),g=v[0],E=v[1],f=Object(q.g)();_?t=s.a.createElement("div",{className:hn.a.Invitation__Tavern},s.a.createElement("div",{className:hn.a.Invitation__Tavern__Container},a&&s.a.createElement(cn.a,{className:hn.a.Invitation__Tavern__Time,add:{hours:2},format:"HH:mm"},a),s.a.createElement("img",{className:hn.a.Invitation__Tavern__Avatar,src:o.avatar,alt:"avatar"}),s.a.createElement("p",{className:hn.a.Invitation__Tavern__Message__Container},s.a.createElement("span",{className:hn.a.Invitation__Tavern__Username},o.username),s.a.createElement("span",{className:hn.a.Invitation__Tavern__Message},"Vous invite \xe0 jouer dans la Tavern !"))),s.a.createElement("div",{className:hn.a.Invitation__Tavern__Buttons__Container},s.a.createElement("button",{className:hn.a.Invitation__Tavern__Button__Add,onClick:function(e){return C("accept",{gamemaster:o,participant:n})}},s.a.createElement("img",{src:Nt.a,alt:"icone accepter"}),"Accepter"),s.a.createElement("button",{className:hn.a.Invitation__Tavern__Button__Decline,onClick:function(e){return C("reject",{gamemaster:o,participant:n})}},s.a.createElement("img",{src:Nn.a,alt:"icone skull"}),"Refuser"))):i&&(t=s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:hn.a.Invitation},s.a.createElement("div",{className:hn.a.Asking},s.a.createElement("div",{className:hn.a.Request},s.a.createElement("div",{className:hn.a.Invitation__Container},s.a.createElement("img",{className:hn.a.Avatar,src:c.avatar,alt:"avatar"}),s.a.createElement("div",null,s.a.createElement("p",{className:hn.a.Name},c.username))),s.a.createElement("div",{className:hn.a.Buttons},s.a.createElement("button",{className:hn.a.Add,onClick:function(e){return C("accept",{contactId:c.id})}},"Accepter"),s.a.createElement("button",{className:hn.a.Decline,onClick:function(e){return C("reject",{contactId:c.id})}},"Refuser"))))),g&&s.a.createElement(ta,{modalCancel:function(){return E(!1)},header:"Suppression de demande de contact",message:"Voulez vous vraiment supprimer cette demande ?",modalConfirm:function(){return h(c.id)}})));var C=function(e,t){i?"accept"===e?u(t.contactId):"reject"===e&&E(!0):_&&("accept"===e&&f.push("/tavern/".concat(m)),d(m,t.gamemaster,t.participant))},h=function(e){E(!1),l(e)};return t};Tn.defaultProps={avatar:"",username:""};var An=Tn,In=a(50),Sn=a.n(In),On=function(){return s.a.createElement("form",{className:Sn.a.Form,onSubmit:function(e){return e.preventDefault()}},s.a.createElement("button",{className:Sn.a.Button},"Rechercher"),s.a.createElement("input",{className:Sn.a.Input,type:"text",placeholder:"Utilisateur"}))},Ln=a(116),Dn=a.n(Ln),Pn=a(9),jn=a.n(Pn),xn=function(e){var t=e.post,a=e.resetFields,n=e.isOpen,r=e.setIsOpen,c=e.user,o=e.acceptContact,i=e.deleteContact,_=e.deleteTavern,u=c.pendingRequests.received.length+c.tavernRequests.length;return u=u>=100?"+99":c.pendingRequests.received.length+c.tavernRequests.length,s.a.createElement("div",{className:n?[jn.a.PostForm,jn.a.PostForm__Open].join(" "):jn.a.PostForm},s.a.createElement("div",{className:jn.a.Drawer,onClick:function(){return r(!n)}},u>0&&s.a.createElement("span",{className:jn.a.PostForm__NumberRequests},u),s.a.createElement("img",{className:jn.a.SelfAvatar,src:c.avatar,alt:""}),s.a.createElement("span",{className:n?jn.a.Triangle__Down:jn.a.Triangle})),s.a.createElement("div",{className:jn.a.PostForm__Main},s.a.createElement("form",{className:jn.a.Form,onSubmit:function(e){e.preventDefault(),t(),a("post"),r(!n)}},s.a.createElement("div",null,s.a.createElement(Oe,{cssClass:jn.a.Input,placeholder:"Veuillez saisir un message...",type:"textarea",reducerName:"post",name:"post",post:!0}),s.a.createElement("button",{className:jn.a.SendButton},s.a.createElement("img",{className:jn.a.SendButton__Fire,src:Dn.a,alt:"Bouclier"}),"Envoyer"),s.a.createElement("img",{className:jn.a.SelfAvatarInput,src:c.avatar||ma.a,alt:""})),s.a.createElement("div",{className:jn.a.Gutter})),s.a.createElement("div",{className:jn.a.PostForm__TavernInvitation},s.a.createElement("div",{className:jn.a.PostForm__TavernInvitation__Container},c.tavernRequests.length?c.tavernRequests.map((function(e){var t=e.gamemaster,a=e.tavernId,n=e.date;return s.a.createElement(An,{key:t.id,gamemaster:t,user:c,date:new Date(n),deleteTavern:_,tavernId:a,tavernRequest:!0})})):s.a.createElement("div",{className:jn.a.PostForm__TavernInvitation__None},s.a.createElement("h2",null,"Pas d'invitation pour la tavern")))),s.a.createElement(fn,{label:"Demandes de contact",number:c.pendingRequests.received.length}),s.a.createElement("div",{className:jn.a.PostForm__Invitation},c.pendingRequests.received.map((function(e){return s.a.createElement(An,{key:e.id,contact:e,acceptContact:o,deleteContact:i,deleteTavern:_,contactRequest:!0})}))),s.a.createElement(On,null)),s.a.createElement("footer",{className:jn.a.PostForm__Footer},"\xa9 thetavern | Tous droits r\xe9serv\xe9s | 2020"))},yn=Object(_.b)((function(e){return{user:e.user.loggedUser}}),(function(e){return{post:function(){return e({type:"POST"})},resetFields:function(t){return e(C(t))},acceptContact:function(t){return e(function(e){return{type:"ACCEPT_CONTACT",contactId:e}}(t))},deleteContact:function(t,a){return e(f(t))},deleteTavern:function(t,a,n){return e(v(t,a,n))}}}))(xn),Rn=a(51),Mn=a.n(Rn),kn=function(){var e=Object(r.useState)(!1),t=Object(W.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){document.title="".concat("TheTavern"," | Accueil")}),[]),s.a.createElement("div",{className:Mn.a.Thread},s.a.createElement(an,{cssClass:Mn.a.Thread__Welcome}),s.a.createElement("div",{className:Mn.a.Thread__PostsContainer},s.a.createElement(vn,null),s.a.createElement(yn,{isOpen:a,setIsOpen:n})))},Un=a(117),wn=a.n(Un),Fn=a(118),Bn=a.n(Fn),qn=function(){return s.a.createElement("img",{className:Bn.a.NotFound,src:wn.a,alt:"Not found"})},Gn=function(e){var t=e.wsConnect;return Object(r.useEffect)((function(){t()}),[]),s.a.createElement(s.a.Fragment,null,s.a.createElement(q.d,null,s.a.createElement(q.b,{path:"/tavern/:id",component:kt}),s.a.createElement(de,{section:"TheTavern"},s.a.createElement(q.d,null,s.a.createElement(q.b,{path:"/compte",component:$a}),s.a.createElement(q.b,{exact:!0,path:"/",component:kn}),s.a.createElement(q.b,{component:qn})))))},Vn=Object(_.b)((function(e){return{}}),(function(e){return{wsConnect:function(){return e({type:"WS_CONNECT"})},logout:function(){return e({type:"LOGOUT"})}}}))(Gn),Hn=function(e){var t=e.isUserLogged,a=e.isInitialLoading,n=e.fetchPosts;return Object(r.useEffect)((function(){t(),n()}),[]),s.a.createElement(s.a.Fragment,null,!a&&s.a.createElement(q.d,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(q.b,{path:"/admin"},"test"),s.a.createElement(q.b,{path:"/auth",component:Ge}),s.a.createElement(z,{path:"/",component:Vn}))))},zn=Object(q.h)(Object(_.b)((function(e){return{isLoggedIn:e.user.isLoggedIn,isInitialLoading:e.global.isInitialLoading,hasTriedToAuthenticate:e.user.hasTriedToAuthenticate}}),(function(e){return{isUserLogged:function(){return e({type:"IS_LOGGED_IN"})},fetchPosts:function(){return e({type:"FETCH_POSTS"})}}}))(Hn));o.a.render(s.a.createElement(_.a,{store:B},s.a.createElement(i.a,null,s.a.createElement(zn,null))),document.getElementById("root"))}],[[121,1,2]]]);
//# sourceMappingURL=main.b4cbba3b.chunk.js.map